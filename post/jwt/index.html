<!doctype html><html lang=en><head><link rel=canonical href=https://nafaaal.github.io><meta name=description content="Nafaal's blog"><title>JSON Web Tokens ::
Nafaal's Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Before we dive into what a JWT is, lets look at why they are needed in the first place.
The foundation of any data transfer over the internet is the Hyper Text Transfer Protocol (HTTP). This protocol is just a way to transfer data between a client and the server. The request is made by a client, typically using a web browser which the server would acknowledge and respond back with the requested resource."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://nafaaal.github.io><link rel=stylesheet href=/assets/style.css><link rel=stylesheet href=/style.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=/img/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/img/favicon.png><link href=/assets/fonts/Inter-Italic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/assets/fonts/Inter-Regular.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/assets/fonts/Inter-Medium.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/assets/fonts/Inter-MediumItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/assets/fonts/Inter-Bold.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/assets/fonts/Inter-BoldItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><meta name=twitter:card content="summary"><meta name=twitter:title content="JSON Web Tokens"><meta name=twitter:description content="what are JAY DUBLEW TEES?????"><meta property="og:title" content="JSON Web Tokens"><meta property="og:description" content="what are JAY DUBLEW TEES?????"><meta property="og:type" content="article"><meta property="og:url" content="/post/jwt/"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-10-18T00:00:00+00:00"><meta property="article:modified_time" content="2022-10-18T00:00:00+00:00"><meta property="og:site_name" content="Nafaal's Blog"></head><body class=dark-theme><div class=container><header class=header><span class=header__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span><span class=logo__text>nafaal.com</span>
<span class=logo__cursor></span></a>
<span class=header__right><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/cv>cv</a></li><li><a href=/archive>posts</a></li><li><a href=/about>whoami</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/cv>cv</a></li><li><a href=/archive>posts</a></li><li><a href=/about>whoami</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class=theme-toggle><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><div class=post><h1 class=post-title>JSON Web Tokens</h1><div class=post-meta><span class=post-date>2022-10-18</span>
<span class=post-read-time>— 3 min read</span></div><figure class=post-cover><img width=770 src=/img/jwt_0.png alt="JSON Web Tokens"></figure><div class=post-content><p> </p><p>Before we dive into what a JWT is, lets look at why they are needed in the first place.</p><p>The foundation of any data transfer over the internet is the Hyper Text Transfer Protocol (HTTP). This protocol is just a way to transfer data between a client and the server. The request is made by a client, typically using a web browser which the server would acknowledge and respond back with the requested resource.</p><p> </p><p><img src=/img/jwt_1.png alt="Client Server Model"></p><p> </p><p>The HTTP protocol itself does not remember the history of previous requests. So if someone logs into to a website in one request, how does the server know who that person is in the subsequent requests?</p><p>This is where JSON Web Tokens come in. It is used to identify and track user activity, allowing the server to know who they are communicating with, without having to send their credentials with each and every single request.</p><blockquote><p>Note: JWTS are not the only method to achieve this. Session IDs are also a popular option.</p></blockquote><p>When you first succesfully log in to a website, the server will generate a JSON Web Token, which is sent back as a response to the client.</p><p>The client then needs to send this token back in future requests so that the server knows who the client is. This is handled by the web browser and is automatically set as a HTTP header for upcoming requests.</p><p> </p><p><img src=/img/jwt_2.png alt="Client Server Model"></p><p> </p><p>A JSON Web Token consists of 3 parts.</p><ol><li>Header</li><li>Payload</li><li>Signature</li></ol><p>They are seperated with a <code>.</code> in the form:</p><ul><li><code>hhhhhhhhhh.pppppppppp.ssssssssss</code></li></ul><p> </p><h3 id=the-header>The Header
<a href=#the-header class=h-anchor aria-hidden=true>#</a></h3><p>It only consists of the type of hash used to sign the token, alongside what type of token it is; which is a JWT in this case.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;alg&#34;</span>:<span style=color:#e6db74>&#34;HS256&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;typ:&#34;</span>:<span style=color:#e6db74>&#34;jwt&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p> </p><h3 id=the-payload>The Payload
<a href=#the-payload class=h-anchor aria-hidden=true>#</a></h3><p>The payload contains some data or &ldquo;claims&rdquo; which can be linked to the client, which the server uses to verify whether the user has permissions to perform an action they may have requested.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;username&#34;</span>:<span style=color:#e6db74>&#34;qx209931&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;ticket_no&#34;</span>:<span style=color:#e6db74>&#34;17261&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;account_type&#34;</span>: <span style=color:#e6db74>&#34;superuser&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p> </p><h3 id=the-signature>The Signature
<a href=#the-signature class=h-anchor aria-hidden=true>#</a></h3><p>The header and the payload are each encoded into Base64Url and is concatenated in the form <code>base64urlencode(hhhhhhhhhh)+ "." +base64urlencode(pppppppppp)</code>. The resulting string is then hashed using the algorithm specified in the header with a secret private key which the server only has access to.</p><p>In future requests, when the client send the JWT with their request, the server will compute the hash again and compare it with the signature of the recieved JWT to ensure its authenticity.</p><p><img src=/img/jwt_3.png alt="JWT Server Compare"></p><p> </p><blockquote><p>The encoded JWT in the banner image is encrypted using the HS256 algorithm, with the private key <code>bPeShVkYp3s6v9y$B&E)H@McQfTjWnZr</code></p></blockquote></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button next"><a href=/post/gol/><span class=button__text>Conways Game of Life Simulation</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" width="44" height="44" viewBox="0 0 44 44"><polyline fill="none" stroke="#000" stroke-width="2" points="15 8 29.729 22.382 15 35.367"/></svg></span><span class=logo__text>nafaal.com</span>
<span class=logo__cursor></span></a><div class="footer__inner footer__inner--small m-t-5"><div class=copyright><span><a target=_blank href=https://twitter.com/nafaaal>Twitter</a></span>
<span><a target=_blank href=https://www.linkedin.com/in/nafaaal/>Linkedin</a></span>
<span><a target=_blank href=https://github.com/nafaaal>Github</a></span>
<span><a href=/credit/>Credits</a></span></div></div></div></footer><script src=/assets/main.js></script>
<script src=/assets/prism.js></script></div></body></html>